<div class="profile-page">
  <!-- Profile Section -->
  <div class="profile-section">
    <div class="profile-card">
      <div class="profile-image">
        <!-- <img src="path/to/profile-image.jpg" alt="Profile Image" /> -->
      </div>
      <div class="profile-details">
        <h2 class="profile-name">John Doe</h2>
        <p class="profile-info"><strong>Phone:</strong> +1234567890</p>
      </div>
    </div>
  </div>

  <!-- Order History Section -->
  <div class="order-history">
    <h3 class="section-title">Order History</h3>

    <!-- Order Loop -->
    <div class="order-item" *ngFor="let order of orders">
      <div class="order-info">
        <h4 class="order-id">Order ID: {{order.id}}</h4>
        <p class="order-date">Ordered on: {{ convertToDate(order.createdAt) | date:'short' }}</p>

        <p class="order-status">Status: {{order.status}}</p>
        
        <!-- Loop through items in each order -->
        <div class="order-items" *ngFor="let cartItem of order.cartItems">
        
          <!-- Loop through items inside each cartItem -->
          <div class="order-item-details" *ngFor="let item of cartItem.items">
            <div class="order-item-info">
              <img [src]="getProductImage(item.productId)" alt="Product Image" class="order-image" />
              <div class="order-item-details-text">
                <h5 class="order-product-name">{{item.productId}}</h5> <!-- Replace with actual product name -->
                <p class="order-item-quantity">Quantity: {{item.quantity}}</p>
                <p class="order-item-price"><strong>Price:</strong> ${{item.price || 0}}</p> <!-- Assuming you have price data -->
              </div>
            </div>
          </div>
        </div>

        <div class="order-total">
          <p><strong>Total:</strong> ${{order.totalAmount}}</p> <!-- Assuming you have totalAmount in your order -->
        </div>
      </div>
    </div>
  </div>
</div>
